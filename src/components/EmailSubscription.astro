---

---

<section
  id="newsletter"
  class="py-20 bg-gradient-to-r from-[#f0fdfa] to-[#eff6ff]"
>
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <div
      id="newsletter-card"
      class="bg-white rounded-3xl shadow-xl p-8 md:p-12 transition-shadow duration-300 hover:shadow-2xl"
    >
      <!-- Mensaje de Ã©xito -->
      <div id="success-message" class="hidden">
        <div class="text-green-500 text-6xl mb-4" aria-hidden="true">âœ“</div>
        <h3 class="text-2xl font-bold text-slate-800 mb-2">
          Â¡Gracias por suscribirte!
        </h3>
        <p class="text-slate-600 text-lg">
          Pronto recibirÃ¡s nuestro boletÃ­n con consejos y promociones
          exclusivas.
        </p>
      </div>

      <div id="form-container">
        <div class="text-teal-500 text-6xl mb-6" aria-hidden="true">ðŸ’Œ</div>
        <h2 class="text-3xl md:text-4xl font-bold text-slate-700 mb-4">
          Mantente al DÃ­a con Consejos para tu Mascota
        </h2>
        <p class="text-lg text-slate-600 mb-8 max-w-2xl mx-auto">
          Elige cÃ³mo prefieres recibir nuestras promociones, consejos de cuidado
          y noticias de salud.
        </p>

        <form id="newsletter-form" class="max-w-md mx-auto">
          <!-- Botones para seleccionar el mÃ©todo de contacto -->
          <div id="method-selector" class="flex justify-center gap-2 mb-6">
            <button
              type="button"
              id="btn-email"
              class="px-6 py-2 rounded-full font-semibold transition-colors duration-200"
            >
              Correo ElectrÃ³nico
            </button>
            <button
              type="button"
              id="btn-phone"
              class="px-6 py-2 rounded-full font-semibold transition-colors duration-200"
            >
              TelÃ©fono (SMS/WA)
            </button>
          </div>

          <div class="flex flex-col gap-4">
            <input
              id="contact-input"
              type="email"
              placeholder="Ingresa tu correo electrÃ³nico"
              class="flex-1 px-6 py-4 border border-slate-300 rounded-full focus:outline-none focus:ring-1 focus:ring-teal-400 focus:border-transparent text-md text-slate-700"
              required
              aria-label="Correo electrÃ³nico para suscripciÃ³n"
            />
            <button
              type="submit"
              class="bg-teal-600 hover:bg-teal-700 text-white px-8 py-4 rounded-full font-semibold text-md transform hover:scale-105 transition-all duration-300 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-600"
            >
              Suscribirme Ahora
            </button>
          </div>
        </form>
      </div>

      <ul
        class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-slate-500"
      >
        <li class="flex items-center justify-center">
          <span class="mr-2" aria-hidden="true">ðŸŽ¯</span>
          Promociones exclusivas
        </li>
        <li class="flex items-center justify-center">
          <span class="mr-2" aria-hidden="true">ðŸ“š</span>
          Consejos de cuidado
        </li>
      </ul>
    </div>
  </div>
</section>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    // Seleccionamos todos los elementos que necesitamos
    const formContainer = document.getElementById("form-container");
    const successMessage = document.getElementById("success-message");
    const newsletterForm = document.getElementById("newsletter-form");
    const btnEmail = document.getElementById("btn-email");
    const btnPhone = document.getElementById("btn-phone");
    const inputField = document.getElementById("contact-input");

    // Variable para saber quÃ© mÃ©todo estÃ¡ seleccionado
    let currentMethod = "email";

    // FunciÃ³n para actualizar la UI del formulario segÃºn el mÃ©todo elegido
    function updateFormUI(method) {
      currentMethod = method; // Guardamos el mÃ©todo actual
      if (method === "email") {
        // Actualizamos el campo de entrada para email
        inputField.type = "email";
        inputField.placeholder = "Ingresa tu correo electrÃ³nico";
        inputField.setAttribute(
          "aria-label",
          "Correo electrÃ³nico para suscripciÃ³n"
        );
        // Actualizamos los estilos de los botones
        btnEmail.classList.add("bg-teal-600", "text-white");
        btnEmail.classList.remove(
          "bg-white",
          "text-teal-600",
          "border",
          "border-teal-600"
        );
        btnPhone.classList.add(
          "bg-white",
          "text-teal-600",
          "border",
          "border-teal-600"
        );
        btnPhone.classList.remove("bg-teal-600", "text-white");
      } else {
        // Si el mÃ©todo es 'phone'
        // Actualizamos el campo de entrada para telÃ©fono
        inputField.type = "tel";
        inputField.placeholder = "Ingresa tu nÃºmero de telÃ©fono";
        inputField.setAttribute("aria-label", "TelÃ©fono para suscripciÃ³n");
        // Actualizamos los estilos de los botones
        btnPhone.classList.add("bg-teal-600", "text-white");
        btnPhone.classList.remove(
          "bg-white",
          "text-teal-600",
          "border",
          "border-teal-600"
        );
        btnEmail.classList.add(
          "bg-white",
          "text-teal-600",
          "border",
          "border-teal-600"
        );
        btnEmail.classList.remove("bg-teal-600", "text-white");
      }
      inputField.value = ""; // Limpiamos el campo al cambiar de mÃ©todo
    }

    // AÃ±adimos los eventos de clic a los botones
    btnEmail.addEventListener("click", () => updateFormUI("email"));
    btnPhone.addEventListener("click", () => updateFormUI("phone"));

    // Inicializamos el formulario en el estado de "email"
    updateFormUI("email");

    // LÃ³gica de suscripciÃ³n
    if (localStorage.getItem("isSubscribedToNewsletter") === "true") {
      formContainer.classList.add("hidden");
      successMessage.classList.remove("hidden");
    }

    newsletterForm.addEventListener("submit", (e) => {
      e.preventDefault();

      const contactValue = inputField.value;
      console.log(
        `SuscripciÃ³n solicitada por ${currentMethod}: ${contactValue}`
      );

      formContainer.classList.add("hidden");
      successMessage.classList.remove("hidden");
      localStorage.setItem("isSubscribedToNewsletter", "true");
    });
  });
</script>
